import{a as S,c as b}from"./coverArray-CU7DebJK.js";import{D as M,r as c,d as $,bY as C,e as F,a as l,b as m,F as T,j,C as z,o as u,f as B,q as E}from"./index-CGl8i4wn.js";import{_ as I}from"./IndustryComponent-_SLXo-Vs.js";const L={class:"container py-3"},N={class:"row g-3"},G={__name:"FavoriteView",setup(O){const d=M(),f=E(),y="AIzaSyD5bMMUbcVKn0XhDjWNzZOZ0_YQwQjd2nU",g="1z-irp4iTLpHxl64hk6cGQ-94d4x5cTbZwHlV3eRw8fM",i=c(!1),h=c(null),p=c([]);async function v(){i.value=!0;const e=`https://sheets.googleapis.com/v4/spreadsheets/${g}/values/全部?key=${y}`;try{const s=await(await S.get(e)).data.values;p.value=b(s)}catch(a){i.value=!1,console.error("Error fetching values:",a)}}const _=t=>{const e={};return t.forEach(s=>{const r=s.廠商;e[r]||(e[r]={});for(const o in s)if(o!=="廠商")if(e[r][o]){const x=s[o].split(",").map(n=>n.trim()),D=e[r][o].split(",").map(n=>n.trim()),A=Array.from(new Set([...D,...x])).join(",");e[r][o]=A}else e[r][o]=s[o]}),Object.keys(e).map(s=>({廠商:s,...e[s]}))},w=t=>_(t.filter(a=>d.favorites.includes(a.廠商))),V=$(()=>w(p.value));C(z,t=>{t&&(h.value=t.uid)});function k(t){f.push({path:`company/${t}`,query:{search:"",selectedindustry:"",MultipleTypeArray:[],selected:[]}})}return F(()=>{v()}),(t,e)=>(u(),l("div",L,[e[0]||(e[0]=m("h1",{class:"mb-4 text-center"},"收藏項目",-1)),m("div",N,[(u(!0),l(T,null,j(V.value,a=>(u(),l("div",{class:"col-6 col-lg-3",key:a},[B(I,{onGoCompany:k,company:a,"mutiple-type-array":[],tag:["編號","廠商","網址","類別","公司簡介","評測"]},null,8,["company"])]))),128))])]))}};export{G as default};
